<app-header></app-header>
<div class="container">
    <div class="name">
        {{reciever}}
    </div>
    <div #scrollMe [scrollTop]="scrollMe.scrollHeight" class="chatbox" *ngIf="chat">
        
        <ul *ngFor="let message of chat" >
            <li class="speech-bubble right-bubble" *ngIf="user == message.sender" >
                <p>{{message.message.text}}</p>
                <span class="time-right">{{message.createdAt | date: format : timezone}}</span>
            </li>
            <li class="speech-bubble dark" *ngIf="user != message.sender">
                <p>{{message.message.text}}</p>
                <span class="time-left">{{message.createdAt | date: format : timezone}}</span>
            </li>
        </ul>
        
    </div>

    <div class="pending chatBox" *ngIf="chat === undefined"></div>
    
</div>
<form class="message-form" (submit)="sendMessage()">
    
        <textarea class="message message-input" placeholder="Say something" [(ngModel)]="message.message" name="message" ></textarea>
        <input type="submit" class="message-button" value="Send">
    
</form>